<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="425px" preserveAspectRatio="none" style="width:796px;height:425px;background:#003153;" version="1.1" viewBox="0 0 796 425" width="796px" zoomAndPan="magnify"><defs/><g><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="36.2969" y2="389.8906"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="347" x2="347" y1="36.2969" y2="389.8906"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="737" x2="737" y1="36.2969" y2="389.8906"/><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="86" x="20" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="27" y="24.9951">Consumer</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="86" x="20" y="388.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="27" y="408.8857">Consumer</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="80" x="307" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="314" y="24.9951">Web Site</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="80" x="307" y="388.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="314" y="408.8857">Web Site</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="106" x="684" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92" x="691" y="24.9951">EasyCard API</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="106" x="684" y="388.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92" x="691" y="408.8857">EasyCard API</text><polygon fill="#D9D3D0" points="335,63.4297,345,67.4297,335,71.4297,339,67.4297" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="63" x2="341" y1="67.4297" y2="67.4297"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92" x="70" y="62.3638">start payment</text><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="347" x2="389" y1="96.5625" y2="96.5625"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="389" x2="389" y1="96.5625" y2="109.5625"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="348" x2="389" y1="109.5625" y2="109.5625"/><polygon fill="#D9D3D0" points="358,105.5625,348,109.5625,358,113.5625,354,109.5625" style="stroke:#D9D3D0;stroke-width:1.0;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="137" x="354" y="91.4966">get buyer's EasyCard</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="495" y="91.4966">ConsumerID</text><polygon fill="#D9D3D0" points="725,134.6953,735,138.6953,725,142.6953,729,138.6953" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="347" x2="731" y1="138.6953" y2="138.6953"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99" x="354" y="133.6294">get consumer's</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="457" y="133.6294">Card Tokens</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119" x="557" y="133.6294">saved in EasyCard</text><polygon fill="#D9D3D0" points="358,163.8281,348,167.8281,358,171.8281,354,167.8281" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="352" x2="736" y1="167.8281" y2="167.8281"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="364" y="162.7622">list of saved</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="446" y="162.7622">Card Tokens</text><polygon fill="#D9D3D0" points="74,208.0938,64,212.0938,74,216.0938,70,212.0938" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="68" x2="346" y1="212.0938" y2="212.0938"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="155" x="80" y="191.895">show list of saved cards</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="196" x="80" y="207.0278">to consumer to let choose one</text><polygon fill="#D9D3D0" points="335,252.3594,345,256.3594,335,260.3594,339,256.3594" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="63" x2="341" y1="256.3594" y2="256.3594"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="190" x="70" y="236.1606">select one of the saved cards</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="105" x="70" y="251.2935">(associated with</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146" x="179" y="251.2935">CreditCardTokenID</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5" x="325" y="251.2935">)</text><polygon fill="#D9D3D0" points="725,296.625,735,300.625,725,304.625,729,300.625" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="347" x2="731" y1="300.625" y2="300.625"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="159" x="354" y="280.4263">create Billing Deal record</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92" x="354" y="295.5591">using selected</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146" x="450" y="295.5591">CreditCardTokenID</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24" x="600" y="295.5591">and</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="628" y="295.5591">ConsumerID</text><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="347" x2="389" y1="329.7578" y2="329.7578"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="389" x2="389" y1="329.7578" y2="342.7578"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="348" x2="389" y1="342.7578" y2="342.7578"/><polygon fill="#D9D3D0" points="358,338.7578,348,342.7578,358,346.7578,354,342.7578" style="stroke:#D9D3D0;stroke-width:1.0;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152" x="354" y="324.6919">store Billing Deal details</text><polygon fill="#D9D3D0" points="74,367.8906,64,371.8906,74,375.8906,70,371.8906" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="68" x2="346" y1="371.8906" y2="371.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="130" x="80" y="366.8247">payment completed</text><!--MD5=[1f9ddd7adaa3ea0452ffc79b18a7ed26]
@startuml
!theme blueprint
participant "Consumer" as consumer
participant "Web Site" as website
participant "EasyCard API" as api

consumer->website: start payment
website->website: get buyer's EasyCard <b>ConsumerID</b>
website->api: get consumer's <b>Card Tokens</b> saved in EasyCard
api- ->website: list of saved <b>Card Tokens</b>
website->consumer: show list of saved cards\nto consumer to let choose one 
consumer->website: select one of the saved cards\n(associated with <b>CreditCardTokenID</b>)
website->api:create Billing Deal record\nusing selected <b>CreditCardTokenID</b> and <b>ConsumerID</b>
website->website: store Billing Deal details
website->consumer: payment completed
@enduml

@startuml





<style>
  root {
    BackgroundColor #003153
    FontColor #D9D3D0
    FontName Verdana
    HyperLinkColor #D9D3D0
    LineColor #D9D3D0
    LineThickness 1
    Margin 5
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  header {
    LineThickness 0
  }
  node {
    MaximumWidth 300
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>

skinparam ArrowLollipopColor #D9D3D0
skinparam BackgroundColor #003153
skinparam DefaultFontName Verdana
skinparam DefaultMonospacedFontName Courier
skinparam LifelineStrategy nosolid
skinparam ParticipantPadding 10
skinparam SequenceLifeLineBorderColor #D9D3D0
skinparam Shadowing false
skinparam UseBetaStyle true

skinparam Activity {
  BackgroundColor #003153
  BarColor #D9D3D0
  BorderColor #D9D3D0
  FontColor #D9D3D0
  FontName Verdana
}
skinparam Boundary {
  FontColor #D9D3D0
}
skinparam Box {
  Padding 5
}
skinparam CircledCharacter {
  FontColor #D9D3D0
  FontName Courier
  Radius 9
}
skinparam Class {
  BackgroundColor #003153
  BorderColor #D9D3D0
  FontColor #D9D3D0
  FontName Verdana
}
skinparam ClassAttribute {
  FontColor #D9D3D0
  FontName Verdana
}
skinparam ClassStereotype {
  FontColor #D9D3D0
  FontName Verdana
}
skinparam Footer {
  FontColor #D9D3D0
  FontName Verdana
}
skinparam Header {
  FontColor #D9D3D0
  FontName Verdana
}
skinparam Hyperlink {
  Color #D9D3D0
}
skinparam IconPackage {
  Color #D9D3D0
  BackgroundColor #003153
}
skinparam IconPrivate {
  Color #D9D3D0
  BackgroundColor #003153
}
skinparam IconProtected {
  Color #D9D3D0
  BackgroundColor #003153
}
skinparam IconPublic {
  Color #D9D3D0
  BackgroundColor #003153
}
skinparam Note {
  FontColor #D9D3D0
  FontName Verdana
}
skinparam Object {
  BorderColor #D9D3D0
}
skinparam Package {
  BorderColor #D9D3D0
  FontColor #D9D3D0
  FontName Verdana
}
skinparam State {
  BackgroundColor #003153
  BorderColor #D9D3D0
}
skinparam StereotypeA {
  BackgroundColor #003153
  BorderColor #D9D3D0
}
skinparam StereotypeC {
  BackgroundColor #003153
  BorderColor #D9D3D0
}
skinparam StereotypeE {
  BackgroundColor #003153
  BorderColor #D9D3D0
}
skinparam StereotypeI {
  BackgroundColor #003153
  BorderColor #D9D3D0
}
skinparam StereotypeN {
  BackgroundColor #003153
  BorderColor #D9D3D0
}
skinparam UseCaseStereoType {
  FontColor #D9D3D0
  FontName Verdana
}
participant "Consumer" as consumer
participant "Web Site" as website
participant "EasyCard API" as api

consumer->website: start payment
website->website: get buyer's EasyCard <b>ConsumerID</b>
website->api: get consumer's <b>Card Tokens</b> saved in EasyCard
api- ->website: list of saved <b>Card Tokens</b>
website->consumer: show list of saved cards\nto consumer to let choose one 
consumer->website: select one of the saved cards\n(associated with <b>CreditCardTokenID</b>)
website->api:create Billing Deal record\nusing selected <b>CreditCardTokenID</b> and <b>ConsumerID</b>
website->website: store Billing Deal details
website->consumer: payment completed
@enduml

PlantUML version 1.2022.10beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>